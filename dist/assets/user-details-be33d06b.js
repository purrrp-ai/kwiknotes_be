import{j as e,r as d,C as _,Q as x,a as p,z as g}from"./index-73886e4a.js";import{m as j}from"./makeStyles-8abd10b7.js";import{M as f}from"./Modal-96cf205e.js";import{c as i}from"./createSvgIcon-95652d7e.js";import{S}from"./Login-8e6dfb92.js";import{C}from"./Close-1ba24843.js";import"./useForkRef-f0f0758c.js";const b=i(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle"),w=i(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle"),v=i(e.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout"),z=i([e.jsx("path",{d:"M15.18 10.94c.2-.44.32-.92.32-1.44C15.5 7.57 13.93 6 12 6c-.52 0-1 .12-1.44.32l4.62 4.62z"},"0"),e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 13c-2.32 0-4.45.8-6.14 2.12C4.7 15.73 4 13.95 4 12c0-1.85.63-3.55 1.69-4.9l2.86 2.86c.21 1.56 1.43 2.79 2.99 2.99l2.2 2.2c-.57-.1-1.15-.15-1.74-.15zm6.31 1.9L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.54-1.69 4.9z"},"1")],"NoAccounts"),y="_details-wrapper_119sa_1",I="_hide-wrapper_119sa_29",N="_hidden-exit_119sa_37",k="_sign-btn_119sa_87",M="_user-details_119sa_135",D="_greetings_119sa_157",E="_edit-details_119sa_175",W="_bottom_119sa_221",s={"details-wrapper":"_details-wrapper_119sa_1",detailsWrapper:y,"hide-wrapper":"_hide-wrapper_119sa_29",hideWrapper:I,"hidden-exit":"_hidden-exit_119sa_37",hiddenExit:N,"sign-btn":"_sign-btn_119sa_87",signBtn:k,"user-details":"_user-details_119sa_135",userDetails:M,greetings:D,"edit-details":"_edit-details_119sa_175",editDetails:E,bottom:W},A=j({modal:{"&":{"& .MuiBackdrop-root":{backgroundColor:"rgba(0, 0, 0, 0)"}}}}),V=()=>{const h=A(),{user:t,setUser:m,showAccountState:r,setShowAccountState:a,setShowSignIn:l,setMessage:c}=d.useContext(_),[u,o]=d.useState(!1);return setTimeout(r?()=>o(!0):()=>o(!1),150),e.jsx(f,{open:r,onClose:()=>{o(!1),setTimeout(()=>a(!1),150)},className:h.modal,children:e.jsxs("div",{className:`${s.detailsWrapper} ${!u&&s.hideWrapper}`,children:[e.jsx("section",{children:e.jsxs("div",{className:s.userDetails,children:[t?e.jsx(b,{fontSize:"large"}):e.jsx(z,{fontSize:"large"}),e.jsx("div",{children:t?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:s.greetings,children:["Hey there, ",e.jsx("span",{children:t.username}),"!"]}),e.jsx("button",{type:"button",onClick:()=>console.log("edit account details"),className:s.editDetails,children:"Edit account details"})]}):e.jsx("p",{children:"Sign in to use all Kwik Notes features"})})]})}),e.jsx("button",{type:"button",onClick:t?()=>{x().then(({message:n})=>{m(null),c({color:p.info,info:n}),window.localStorage.removeItem("token"),g(null),l(!0)}).catch(({message:n})=>{c({color:p.error,info:n})}).finally(()=>a(!1))}:()=>{a(!1),l(!0)},className:s.signBtn,children:t?e.jsxs(e.Fragment,{children:["Sign out",e.jsx(v,{})]}):e.jsxs(e.Fragment,{children:["Sign in",e.jsx(S,{})]})}),e.jsxs("div",{className:s.bottom,children:[e.jsx("a",{href:"/privacy-policy",children:"Privacy policy"}),e.jsx(w,{}),e.jsx("a",{href:"/terms-of-service",children:"Terms of service"})]}),e.jsx("button",{className:s.hiddenExit,type:"button",onClick:()=>a(!1),"aria-label":"Exit account details",children:e.jsx(C,{})})]})})};export{V as default};
