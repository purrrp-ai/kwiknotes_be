import{j as s,r as u,C as f,N as z,q as M,a as b}from"./index-73886e4a.js";import{c as e}from"./createSvgIcon-95652d7e.js";import{L as y}from"./logo-link-04dba84f.js";import{C as S}from"./Close-1ba24843.js";import{C as H}from"./CircularProgress-e7129798.js";const b1=e(s.jsx("path",{d:"M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"}),"AddAlert"),L=e(s.jsx("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps"),V=e(s.jsx("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5 6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}),"Archive"),k=e(s.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),B=e(s.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-9-3.82-2.09-2.09L6.5 13.5 10 17l6.01-6.01-1.41-1.41z"}),"CloudDoneOutlined"),w=e(s.jsx("path",{d:"M24 15c0-2.64-2.05-4.78-4.65-4.96C18.67 6.59 15.64 4 12 4c-1.33 0-2.57.36-3.65.97l1.49 1.49C10.51 6.17 11.23 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 .99-.48 1.85-1.21 2.4l1.41 1.41c1.09-.92 1.8-2.27 1.8-3.81zM4.41 3.86 3 5.27l2.77 2.77h-.42C2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h11.73l2 2 1.41-1.41L4.41 3.86zM6 18c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73l8 8H6z"}),"CloudOffOutlined"),j1=e(s.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"ColorLens"),N=e(s.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create"),A=e(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),$=e(s.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),P=e(s.jsx("path",{fillRule:"evenodd",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridView"),z1=e(s.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image"),O=e(s.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9v1zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7z"}),"Lightbulb"),q=e(s.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),f1=e(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),I=e(s.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications"),T=e(s.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),m1=e(s.jsx("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm2 2v2h3v3h2v-3h3v-2h-3V7h-2v3h-3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonAddAlt1"),g1=e(s.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3z"}),"PushPin"),C1=e(s.jsx("path",{d:"M14 4v5c0 1.12.37 2.16 1 3H9c.65-.86 1-1.9 1-3V4h4m3-2H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3V4h1c.55 0 1-.45 1-1s-.45-1-1-1z"}),"PushPinOutlined"),D=e(s.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh"),R=e(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),G=e(s.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),E=e(s.jsx("path",{d:"M19 13H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm0-10H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ViewAgenda"),Q="_drawer_s6zyo_1",U="_nav-open_s6zyo_23",F="_nav-links-btns_s6zyo_33",J="_expand-toggle_s6zyo_47",K="_collapsible-btn_s6zyo_55",W="_collapsible-link_s6zyo_57",X="_active_s6zyo_137",Y="_pulsate_s6zyo_1",Z="_divider_s6zyo_209",s1="_attribution_s6zyo_227",l={drawer:Q,"nav-open":"_nav-open_s6zyo_23",navOpen:U,"nav-links-btns":"_nav-links-btns_s6zyo_33",navLinksBtns:F,"expand-toggle":"_expand-toggle_s6zyo_47",expandToggle:J,"collapsible-btn":"_collapsible-btn_s6zyo_55",collapsibleBtn:K,"collapsible-link":"_collapsible-link_s6zyo_57",collapsibleLink:W,active:X,pulsate:Y,divider:Z,attribution:s1};function M1(){const{navOpen:c,setNavOpen:x}=u.useContext(f);return s.jsxs("aside",{"aria-expanded":c,id:"side-drawer",className:c?l.drawer:`${l.drawer} ${l.navOpen}`,children:[s.jsxs("button",{className:`${l.collapsibleBtn} ${l.expandToggle}`,onClick:()=>x(a=>!a),"aria-label":c?"Expand drawer":"Collapse drawer",children:[c?s.jsx(k,{}):s.jsx(q,{}),c?s.jsx("span",{children:"Collapse"}):null]}),s.jsx("span",{className:l.divider}),s.jsxs("div",{className:l.navLinksBtns,children:[[{to:"/",icon:s.jsx(O,{}),label:"Notes"},{to:"/prompts",icon:s.jsx(I,{}),label:"Prompts"}].map((a,h)=>s.jsxs(z,{className:({isActive:d})=>d?`${l.collapsibleLink} ${l.active}`:l.collapsibleLink,to:a.to,"aria-label":a.label,children:[a.icon,c?s.jsx("span",{children:a.label}):null]},`${a.label}-${h}`)),s.jsxs("button",{"aria-label":"Modify tags",className:l.collapsibleBtn,onClick:()=>null,children:[s.jsx(N,{}),c?s.jsx("span",{children:"Modify tags"}):null]}),[{to:"/stash",icon:s.jsx(V,{}),label:"Stash"},{to:"/bin",icon:s.jsx(A,{}),label:"Bin"}].map((a,h)=>s.jsxs(z,{className:({isActive:d})=>d?`${l.collapsibleLink} ${l.active}`:l.collapsibleLink,to:a.to,"aria-label":a.label,children:[a.icon,c?s.jsx("span",{children:a.label}):null]},`${a.label}-${h}`))]}),s.jsxs("a",{href:"https://github.com/purrrplelipton",target:"_blank",className:`${l.attribution}`,"aria-label":"Creator's GitHub",rel:"noreferrer",children:[s.jsx($,{}),c?s.jsx("span",{children:"purrrplelipton"}):null]})]})}const e1="_app-bar_1jg04_1",a1="_search_1jg04_49",l1="_focus-search-box_1jg04_75",t1="_clear-query-btn_1jg04_77",n1="_search-box_1jg04_103",c1="_nav-tools_1jg04_147",o1="_header-btns_1jg04_163",r1="_pulsate_1jg04_1",i1="_form-btns_1jg04_227",h1="_divider_1jg04_237",d1="_logo-link_1jg04_265",n={"app-bar":"_app-bar_1jg04_1",appBar:e1,search:a1,"focus-search-box":"_focus-search-box_1jg04_75",focusSearchBox:l1,"clear-query-btn":"_clear-query-btn_1jg04_77",clearQueryBtn:t1,"search-box":"_search-box_1jg04_103",searchBox:n1,"nav-tools":"_nav-tools_1jg04_147",navTools:c1,"header-btns":"_header-btns_1jg04_163",headerBtns:o1,pulsate:r1,"form-btns":"_form-btns_1jg04_227",formBtns:i1,divider:h1,"logo-link":"_logo-link_1jg04_265",logoLink:d1};function y1(){const{user:c,setUser:x,gridView:a,setGridView:h,showAccountState:d,setShowAccountState:m,setShowSignIn:g,setMessage:_}=u.useContext(f),j=u.useRef(null),[r,i]=u.useState({query:"",refreshing:!1,refreshStatus:null,showAccountDetails:!1});u.useEffect(()=>{if(r.refreshStatus!==null){const o=setTimeout(()=>{i(t=>({...t,refreshStatus:null}))},1e3);return()=>clearTimeout(o)}},[r.refreshStatus]);function C(){if(c){if(r.refreshing)return;i(t=>({...t,refreshing:!0,refreshStatus:null}));const o=Math.floor(Math.random()*(3e3-1e3+1)+1e3);setTimeout(()=>{M().then(({notes:t})=>{x(p=>({...p,notes:t})),i(p=>({...p,refreshStatus:"success"}))}).catch(({message:t})=>{i(p=>({...p,refreshStatus:"error"})),t=="token expired"?(window.localStorage.removeItem("token"),x(null),g(!0),setTimeout(()=>_({color:b.warn,info:"Session expired. Please Sign in again."}),1e3)):_({color:b.error,info:t})}).finally(()=>{i(t=>({...t,refreshing:!1}))})},o)}else _({color:b.warn,info:"Notes refreshing is allowed to signed in users only."})}let v;return r.refreshing?v=s.jsx(H,{color:"inherit",style:{width:24,height:24}}):r.refreshStatus==="success"?v=s.jsx(B,{color:"inherit"}):r.refreshStatus==="error"?v=s.jsx(w,{color:"inherit"}):v=s.jsx(D,{}),s.jsxs("header",{className:n.appBar,children:[s.jsx(y,{w:2}),s.jsxs("div",{className:n.search,role:"search",children:[s.jsx("button",{type:"button",className:`${n.focusSearchBox}`,onClick:()=>j.current.focus(),"aria-label":"Search notes",children:s.jsx(R,{})}),s.jsx("input",{className:n.searchBox,autoComplete:"off",id:"search-box",placeholder:"Search",role:"searchbox",onChange:({target:{value:o}})=>i(t=>({...t,query:o})),spellCheck:"false",value:r.query,ref:j,type:"text","aria-label":"Search"}),s.jsx("button",{type:"button",className:`${n.clearQueryBtn}`,onClick:()=>i(o=>({...o,query:""})),"aria-label":"Clear search",disabled:!r.query,children:s.jsx(S,{sx:{opacity:r.query?1:0}})})]}),s.jsxs("div",{className:n.navTools,children:[s.jsx("button",{className:n.headerBtns,onClick:()=>C(),disabled:r.refreshing,"aria-label":"Refresh notes",children:v}),s.jsx("button",{className:n.headerBtns,onClick:()=>h(o=>!o),"aria-label":a?"List view":"Grid view",children:a?s.jsx(E,{}):s.jsx(P,{})}),s.jsx("button",{className:n.headerBtns,type:"button","aria-label":"Settings",children:s.jsx(G,{})}),s.jsx("span",{className:n.divider}),s.jsx("button",{className:n.headerBtns,type:"button","aria-label":"More apps",children:s.jsx(L,{})}),s.jsx("button",{className:n.headerBtns,onClick:()=>m(o=>!o),"aria-label":"User details","aria-expanded":d,children:s.jsx(T,{})})]})]})}export{b1 as A,j1 as C,M1 as D,y1 as H,z1 as I,f1 as M,g1 as P,C1 as a,m1 as b,V as c};
